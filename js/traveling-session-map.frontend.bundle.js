(()=>{var e={877:e=>{((e,t)=>{"use strict";mapboxgl.accessToken="pk.eyJ1IjoidmluY2Vuem8tbSIsImEiOiJja2RyN3lyaGIxYms3MnJ0YWQzY285b2hjIn0.ABcpXPdCt_vOXrLx0ox1bg";let a=null,o=[],l=[],s={},n=t(".map-tools-container"),r=[{id:"WorldCountries",type:"fill",source:"states",layout:{visibility:"visible"},paint:{"fill-color":["case",["boolean",["feature-state","hover"],!1],"#0071A4","#ffffff"],"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.8,.001]},"fill-opacity":.4}],i=new mapboxgl.Map({container:"traveling-session-map",style:"mapbox://styles/mapbox/streets-v11",center:[-53.842,34.691],zoom:1.95});i.on("load",(async()=>{t(".loader").hide();const e=await(async()=>{const e=await t.get(TRSS_MAP_OBJ.mapbox_world_countries_json_url);return JSON.parse(e)})();i.addSource("states",{type:"geojson",data:e}),r.forEach((e=>{i.addLayer({...e},"natural-line-label")})),i.on("click","WorldCountries",(e=>{let a=e.features[0].id,o=l.includes(a);1==o?(l.splice(l.indexOf(a),1),i.setFeatureState({source:"states",id:a},{hover:!o})):(l.push(a),i.setFeatureState({source:"states",id:a},{hover:!o})),t("#Map-State").find(`option[value="${a}"]`).prop("selected",!o),t("#Map-State").trigger("change"),p()}))}));const c=()=>(n.on({"__onChange:Tab"(e,t){console.log(e,t),n.onChangeTabCallback=n.onChangeTabCallback||[],n.onChangeTabCallback.push(t)}}),n.on("click",".tab-heading [data-tab-name]",(function(e){e.preventDefault();const a=t(this).data("tab-name");t(this).addClass("active").siblings().removeClass("active"),n.find(`.tab-body .__tab-item[data-tab-body-name=${a}]`).addClass("__is-active").siblings().removeClass("__is-active"),n.onChangeTabCallback&&n.onChangeTabCallback.length&&n.onChangeTabCallback.map((e=>{e.call(null,a)}))})),n),d=()=>{t(".__mapbox-geocode-field-container").each((function(){let e=t(this),a=new MapboxGeocoder({mapboxgl,accessToken:mapboxgl.accessToken,placeholder:"Enter city",types:"place",marker:!1,limit:1});t(this).html(a.onAdd(i)),a.on("result",(t=>{((e,t)=>{let a=((e,t)=>{let a=document.createElement("div");return a.className="marker",a.style.backgroundImage=`url(${t.Icon})`,a.style.backgroundSize="100%",a.style.width="50px",a.style.height="50px",new mapboxgl.Marker(a).setLngLat(e.geometry.coordinates).addTo(i)})(e.result,{Icon:t.data("icon")}),o=t.data("tax-slug"),l=t.data("item-key");t.data("marker",a);let n={tax_slug:o,place_name:e.result.place_name,geometry:e.result.geometry};s[l]=n})(t,e)})),a.on("clear",(t=>{((e,t)=>{let a=t.data("item-key"),o=t.data("marker");o&&(delete s[a],o.remove())})(0,e)})),e.data("geocoder-obj",a),o.push(a)})),console.log(o)},g=(e,t)=>{const a=parseInt(e.value);t?l.push(a):l.splice(l.indexOf(a),1),i.setFeatureState({source:"states",id:a},{hover:t}),e.selected=t,p()},p=()=>{t("#d1").html(l.length)};t((()=>{c(),a=t("#Map-State").bsMultiSelect({setSelected:g}),t("#Map-State").on("change",(()=>{a.bsMultiSelect("Update")})).trigger("change"),d(),n.trigger("__onChange:Tab",[e=>{}])}))})(window,jQuery),e.exports={}},611:e=>{((e,t)=>{const a=function(e,a){const o=t(e);t.extend({},a);let l=!1;o.on({"__open:ToggleUI"(e){o.find(".__toggle-content").stop(!0,!0).slideDown("slow",(()=>{o.addClass("__is-open"),l=!1}))},"__close:ToggleUI"(e){o.find(".__toggle-content").stop(!0,!0).slideUp("slow",(()=>{o.removeClass("__is-open"),l=!1}))}}),o.on("click",".__toggle-heading",(function(e){e.preventDefault(),1!=l&&(o.hasClass("__is-open")?o.trigger("__close:ToggleUI"):(console.log("is close"),o.trigger("__open:ToggleUI")),l=!0)}))};t((()=>{t(".__is-toggle").each((function(){new a(this)}))}))})(window,jQuery),e.exports={}}},t={};function a(o){if(t[o])return t[o].exports;var l=t[o]={exports:{}};return e[o](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";a(877),a(611)})()})();